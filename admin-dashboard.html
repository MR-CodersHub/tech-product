<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel | Cosmo Audio</title>
    <link rel="icon" type="icon/png" href="./assets/img/logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        .sidebar-item {
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .sidebar-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-left-color: #3b82f6;
        }

        .sidebar-item.active {
            background: rgba(59, 130, 246, 0.1);
            border-left-color: #3b82f6;
            color: #3b82f6;
        }

        .stat-card {
            background: #18181b;
            border: 1px solid #27272a;
        }

        .data-table thead {
            background: #111114;
        }

        .status-pill {
            padding: 2px 10px;
            border-radius: 99px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
        }
    </style>
</head>

<body class="font-[Inter] bg-[#0a0a0a] text-[#e4e4e7] overflow-x-hidden min-h-screen">
    <div id="admin-content" style="display: none;" class="flex min-h-screen w-full">
        <aside class="w-64 bg-[#111114] border-r border-zinc-800 flex flex-col">
            <div class="p-6 border-b border-zinc-800 flex items-center gap-3">
                <img src="./assets/img/logo.png" alt="Cosmo Logo" class="w-8 h-8 object-contain">
                <span class="text-xl font-bold tracking-tighter text-white">COSMO<span
                        class="text-blue-500">.</span></span>
            </div>

            <nav class="flex-1 py-4">
                <a href="./index.html"
                    class="sidebar-item flex items-center gap-3 px-6 py-3 text-zinc-400 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                    Home
                </a>
                <div class="px-6 py-2 text-[10px] font-bold text-zinc-500 uppercase tracking-widest">Main</div>
                <a href="#" class="sidebar-item active flex items-center gap-3 px-6 py-3">Overview</a>
                <a href="./products.html" class="sidebar-item flex items-center gap-3 px-6 py-3">Products</a>
                <a href="#" class="sidebar-item flex items-center gap-3 px-6 py-3">Orders & Bookings</a>

            </nav>

            <div class="p-4 border-t border-zinc-800">
                <button onclick="handleLogout()"
                    class="w-full flex items-center gap-2 text-sm text-red-500 hover:bg-red-500/10 p-2 rounded-lg transition text-left">
                    <span>Logout</span>
                </button>
            </div>
        </aside>

        <main class="flex-1 flex flex-col">
            <header
                class="h-16 border-b border-zinc-800 bg-[#111114]/50 backdrop-blur-md flex items-center justify-between px-6 md:px-8 lg:px-10 sticky top-0 z-50">
                <h2 class="font-semibold">Dashboard Overview</h2>
                <div class="flex items-center gap-6">
                    <div class="relative">
                        <a href="./index.html" class="text-xs font-bold text-white">Home</a>
                    </div>
                    <div class="flex items-center gap-3 border-l border-zinc-800 pl-6">
                        <div class="text-right">
                            <p class="text-xs font-bold text-white">Admin </p>

                        </div>
                        <div class="w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center font-bold text-xs">A
                        </div>
                    </div>
                </div>
            </header>

            <div class="p-4 md:p-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-6 mb-8">
                    <div class="stat-card p-6 rounded-2xl">
                        <p class="text-zinc-500 text-[10px] font-bold uppercase tracking-widest mb-1">Total Orders</p>
                        <div class="flex items-end gap-2">
                            <span class="text-2xl font-bold">1,284</span>
                            <span class="text-green-500 text-xs mb-1">+12%</span>
                        </div>
                    </div>
                    <div class="stat-card p-6 rounded-2xl">
                        <p class="text-zinc-500 text-[10px] font-bold uppercase tracking-widest mb-1">Total Revenue</p>
                        <div class="flex items-end gap-2">
                            <span class="text-2xl font-bold">$42.5k</span>
                            <span class="text-green-500 text-xs mb-1">+8%</span>
                        </div>
                    </div>
                    <div class="stat-card p-6 rounded-2xl">
                        <p class="text-zinc-500 text-[10px] font-bold uppercase tracking-widest mb-1">Pending Bookings
                        </p>
                        <div class="flex items-end gap-2">
                            <span class="text-2xl font-bold">24</span>
                            <span class="text-blue-500 text-xs mb-1">High priority</span>
                        </div>
                    </div>
                    <div class="stat-card p-6 rounded-2xl">
                        <p class="text-zinc-500 text-[10px] font-bold uppercase tracking-widest mb-1">Active Products
                        </p>
                        <div class="flex items-end gap-2">
                            <span class="text-2xl font-bold">4</span>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">

                    <div class="xl:col-span-2 bg-[#18181b] rounded-2xl border border-zinc-800 overflow-hidden">
                        <div class="p-6 border-b border-zinc-800 flex justify-between items-center">
                            <h3 class="font-bold">Recent Booking Requests</h3>

                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left data-table">
                                <thead class="text-[10px] uppercase tracking-widest text-zinc-500">
                                    <tr>
                                        <th class="px-6 py-4">Customer</th>
                                        <th class="px-6 py-4">Product</th>
                                        <th class="px-6 py-4">Brand</th>
                                        <th class="px-6 py-4">Status</th>
                                        <th class="px-6 py-4">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="booking-body" class="text-sm divide-y divide-zinc-800">
                                    <!-- Data will be injected here -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="bg-[#18181b] p-6 rounded-2xl border border-zinc-800">
                        <h3 class="font-bold mb-4 text-sm uppercase tracking-widest">System Health</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between text-xs">
                                <span class="text-zinc-500">Database Sync</span>
                                <span class="text-green-500">Optimal</span>
                            </div>
                            <div class="flex justify-between text-xs">
                                <span class="text-zinc-500">SSL Certificate</span>
                                <span class="text-green-500">Active</span>
                            </div>
                            <div class="flex justify-between text-xs">
                                <span class="text-zinc-500">Server Response</span>
                                <span class="text-zinc-300">120ms</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const isAdmin = localStorage.getItem('isAdmin') === 'true';
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';

            if (!isLoggedIn || !isAdmin) {
                alert('Access Denied. Redirecting to login...');
                window.location.href = 'login.html';
                return;
            }

            // Show content if authorized
            document.getElementById('admin-content').style.display = 'flex';

            // Load dynamic bookings
            const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
            const bookingBody = document.getElementById('booking-body');

            if (bookings.length === 0) {
                bookingBody.innerHTML = '<tr><td colspan="5" class="px-6 py-8 text-center text-zinc-500">No recent bookings found.</td></tr>';
            } else {
                bookingBody.innerHTML = bookings.reverse().map(b => `
                    <tr>
                        <td class="px-6 py-4">
                            <div class="font-bold text-white">${b.fullname}</div>
                            <div class="text-[10px] text-zinc-500">${b.email}</div>
                        </td>
                        <td class="px-6 py-4 text-zinc-300">${b.product_type}</td>
                        <td class="px-6 py-4 text-zinc-500">${b.quantity} Units</td>
                        <td class="px-6 py-4"><span class="status-pill bg-blue-500/10 text-blue-500">${b.status || 'Pending'}</span></td>
                        <td class="px-6 py-4"><button class="text-blue-500 hover:underline">View</button></td>
                    </tr>
                `).join('');
            }
        });

        function handleLogout() {
            localStorage.removeItem('isLoggedIn');
            localStorage.removeItem('isAdmin');
            window.location.href = 'login.html';
        }
    </script>
</body>

</html>

